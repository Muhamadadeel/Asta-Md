




   const _0x1474c6=_0x54b8;(function(_0x374ee8,_0x1e9494){const _0x19796a=_0x54b8,_0x3653f5=_0x374ee8();while(!![]){try{const _0x2d053e=parseInt(_0x19796a(0x147))/0x1+parseInt(_0x19796a(0x134))/0x2*(-parseInt(_0x19796a(0x14a))/0x3)+parseInt(_0x19796a(0x13d))/0x4*(parseInt(_0x19796a(0x14f))/0x5)+parseInt(_0x19796a(0x137))/0x6+-parseInt(_0x19796a(0x142))/0x7+-parseInt(_0x19796a(0x14c))/0x8+parseInt(_0x19796a(0x155))/0x9*(parseInt(_0x19796a(0x138))/0xa);if(_0x2d053e===_0x1e9494)break;else _0x3653f5['push'](_0x3653f5['shift']());}catch(_0x2011c8){_0x3653f5['push'](_0x3653f5['shift']());}}}(_0x54af,0xde7da));const mongoose=require('mongoose'),pluginSchema=new mongoose[(_0x1474c6(0x136))]({'id':{'type':String,'unique':!![],'required':!![]},'url':{'type':String}}),Pluginsdb=mongoose[_0x1474c6(0x13c)]('Pluginsdb',pluginSchema);module[_0x1474c6(0x13b)]={'Pluginsdb':Pluginsdb};function _0x54b8(_0x5e9167,_0xd88f84){const _0x54afac=_0x54af();return _0x54b8=function(_0x54b8cb,_0x3e6f73){_0x54b8cb=_0x54b8cb-0x130;let _0xd94bbc=_0x54afac[_0x54b8cb];return _0xd94bbc;},_0x54b8(_0x5e9167,_0xd88f84);}const fs=require('fs'),fileName=__dirname+_0x1474c6(0x13e),newCommand={'id':'','url':''};async function loadGroupData(){const _0xb3794f=_0x1474c6;try{return await JSON['parse'](fs[_0xb3794f(0x140)](fileName,_0xb3794f(0x132)));}catch(_0x5f54a8){return console[_0xb3794f(0x152)](_0xb3794f(0x154),_0x5f54a8),[];}}async function saveGroupData(_0x4f69f5){await fs['writeFileSync'](fileName,JSON['stringify'](_0x4f69f5,null,0x2),'utf8');}function _0x54af(){const _0x314bdc=['Error\x20while\x20finding\x20user\x20in\x20database,\x0a','error','log','Error\x20loading\x20user\x20data:','297MMqNrC','findOne','save','utf8','new','1360556bPSdnJ','length','Schema','10083486EZenYV','14670MrghAk','updateOne','drop','exports','model','8WcwlEh','/plugins.json','values','readFileSync','SmdOfficial','2016147XrZtZf','Error\x20while\x20collection.drop\x20all\x20user\x20in\x20database,\x0a','delete','countDocuments','Error\x20while\x20Creating\x20user\x20in\x20database,\x0a','340794tNJjPa','find','Error\x20while\x20findOneAndDelete\x20user\x20in\x20database,\x0a','6HYULYB','Error\x20while\x20updateOne\x20user\x20in\x20database,\x0a','5966168zgketp','keys','findOneAndDelete','3089710VBjJyc','collection'];_0x54af=function(){return _0x314bdc;};return _0x54af();}let Plugindb={};Plugindb[_0x1474c6(0x145)]=async()=>{const _0x669d33=_0x1474c6;try{if(!global[_0x669d33(0x141)])return;if(isMongodb)return await Pluginsdb['countDocuments']();else{let _0x15f6bc=await loadGroupData(),_0x40b650=Object[_0x669d33(0x14d)](_0x15f6bc);return _0x40b650[_0x669d33(0x135)];}}catch(_0x58b70b){return console['log']('Error\x20while\x20Creating\x20user\x20in\x20database,\x0a',_0x58b70b),0x0;}},Plugindb[_0x1474c6(0x133)]=async _0x398369=>{const _0x322083=_0x1474c6;try{if(!global[_0x322083(0x141)])return;if(isMongodb){let _0x23abda=await Pluginsdb[_0x322083(0x130)]({'id':_0x398369['id']})||await new Pluginsdb({'id':_0x398369['id'],..._0x398369})[_0x322083(0x131)]();return _0x23abda;}else{let _0x4a58de=await loadGroupData();return!_0x4a58de[_0x398369['id']]?(_0x4a58de[_0x398369['id']]={...newCommand,..._0x398369},await saveGroupData(_0x4a58de),_0x4a58de[_0x398369['id']]):_0x4a58de[_0x398369['id']];}}catch(_0x387383){return console[_0x322083(0x153)](_0x322083(0x146),_0x387383),{};}},Plugindb[_0x1474c6(0x130)]=async _0x5a0744=>{const _0x5aa2ce=_0x1474c6;try{if(!global['SmdOfficial'])return;if(isMongodb){let _0x21ddcc=await Pluginsdb['findOne']({'id':_0x5a0744['id']});return _0x21ddcc;}else{let _0x12c551=await loadGroupData();if(_0x12c551[_0x5a0744['id']])return _0x12c551[_0x5a0744['id']];else return;}}catch(_0x1ee0d3){console['log'](_0x5aa2ce(0x151),_0x1ee0d3);return;}},Plugindb[_0x1474c6(0x148)]=async _0xe6a407=>{const _0x23dc1c=_0x1474c6;try{if(!global[_0x23dc1c(0x141)])return;if(isMongodb){let _0x52028d=await Pluginsdb[_0x23dc1c(0x148)](_0xe6a407);return _0x52028d;}else{let _0xdd25e2=Object[_0x23dc1c(0x13f)](_0xe6a407),_0x31b3cf=await loadGroupData();if(_0x31b3cf[_0xe6a407['id']])return[{..._0x31b3cf[_0xe6a407['id']]}];else{if(!_0xdd25e2[0x0])return Object[_0x23dc1c(0x13f)](_0x31b3cf);}return[];}}catch(_0x192b27){return console[_0x23dc1c(0x153)]('Error\x20while\x20finding\x20user\x20in\x20database,\x0a',_0x192b27),[];}},Plugindb[_0x1474c6(0x139)]=async(_0x3b517e,_0x302947={})=>{const _0x1541f8=_0x1474c6;try{if(!global[_0x1541f8(0x141)])return;if(!_0x3b517e['id'])return{};if(isMongodb)return await Pluginsdb[_0x1541f8(0x139)]({'id':_0x3b517e['id']},{..._0x302947});else{let _0x1b5810=await loadGroupData();return _0x1b5810[_0x3b517e['id']]?(_0x1b5810[_0x3b517e['id']]={..._0x1b5810[_0x3b517e['id']],..._0x302947},await saveGroupData(_0x1b5810),_0x1b5810[_0x3b517e['id']]):await addGroup({..._0x3b517e,..._0x302947});}}catch(_0x24232e){return console[_0x1541f8(0x153)](_0x1541f8(0x14b),_0x24232e),{};}},Plugindb[_0x1474c6(0x14e)]=async _0x179bd1=>{const _0x5c63b7=_0x1474c6;try{if(!global[_0x5c63b7(0x141)])return;if(!_0x179bd1['id'])return[];if(isMongodb)await Pluginsdb[_0x5c63b7(0x14e)]({'id':_0x179bd1['id']});else{let _0x5ee13c=await loadGroupData();return delete _0x5ee13c[_0x179bd1['id']],await saveGroupData(_0x5ee13c),null;}}catch(_0x504208){return console['log'](_0x5c63b7(0x149),_0x504208),null;}},Plugindb[_0x1474c6(0x144)]=Plugindb['findOneAndDelete'],Plugindb[_0x1474c6(0x150)]={'drop':async()=>{const _0x40b89e=_0x1474c6;try{if(!global['SmdOfficial'])return;if(isMongodb)return await Pluginsdb[_0x40b89e(0x150)][_0x40b89e(0x13a)]();else{let _0x5d4a0a=await loadGroupData();return Object[_0x40b89e(0x14d)](_0x5d4a0a)['forEach'](_0x41b46e=>delete _0x5d4a0a[_0x41b46e]),await saveGroupData(_0x5d4a0a),null;}}catch(_0x3a67db){return console['log'](_0x40b89e(0x143),_0x3a67db),null;}}},module['exports']={'Plugindb':Plugindb};